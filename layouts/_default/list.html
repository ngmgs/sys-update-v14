{{- define "main" }}

{{- if .Content }}
<div class="post-content">
  {{- .Content -}}
</div>
{{- end }}

<header class="page-header">
  <h1>{{ .Title }}</h1>
</header>

{{- range .Paginator.Pages }}
<article class="post-entry" style="position: relative; height: auto !important; overflow: visible !important;">
  <header class="entry-header">
    <h2>{{ .Title }}</h2>
  </header>
  
  <div class="entry-content" style="max-height: none !important; overflow: visible !important; display: block !important; -webkit-line-clamp: unset !important; line-clamp: unset !important;">
    
    {{/* --- ç”»åƒã‚¨ãƒªã‚¢ --- */}}
    {{- if .Params.cover.image }}
      <div ...>
        <a href="{{ .Permalink }}">
          {{/* 1æšç›® ($index == 0) ã ã‘å„ªå…ˆåº¦ã‚’ä¸Šã’ã€ãã‚Œä»¥å¤–ã¯é…å»¶èª­ã¿è¾¼ã¿ã«ã™ã‚‹ */}}
          <img src="{{ .Params.cover.image | absURL }}" 
              alt="{{ .Title }}" 
              {{ if eq $index 0 }}
                fetchpriority="high"
              {{ else }}
                loading="lazy"
                decoding="async"
              {{ end }}
              style="width: 100%; height: 100%; object-fit: cover;">
        </a>
      </div>
    {{- end }}

    <p style="overflow: visible !important; white-space: normal !important; display: block !important;">{{ .Description }}</p>

    {{/* --- ãƒ¡ãƒ«ã‚«ãƒªãƒœã‚¿ãƒ³ --- */}}
    {{- if .Params.item_url }}
    <div style="margin-top: 15px; position: relative; z-index: 10;">
      <a href="{{ .Params.item_url }}" 
         target="_blank" 
         rel="nofollow sponsored noopener noreferrer"
         style="display: inline-block; background-color: #f0c14b; border: 1px solid #a88734; border-radius: 8px; padding: 10px 20px; text-decoration: none; color: #111; font-weight: bold; box-shadow: 0 2px 5px rgba(0,0,0,0.1);">
        ğŸ‘‰ ãƒ¡ãƒ«ã‚«ãƒªã§è©³ç´°ã‚’è¦‹ã‚‹
      </a>
    </div>
    {{- end }}
  </div>

  <footer class="entry-footer">
    {{ .Date.Format "2006-01-02 15:04" }}
  </footer>

  <a class="entry-link" 
     aria-label="Read more about {{ .Title }}" 
     href="{{ .Permalink }}"
     style="position: absolute; top: 0; left: 0; bottom: 0; right: 0; z-index: 1;">
  </a>

</article>
{{- end }}

{{/* --- ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³ --- */}}
{{- if gt .Paginator.TotalPages 1 }}
<footer class="page-footer">
  <nav class="pagination">
    {{- if .Paginator.HasPrev }}
    <a class="prev" href="{{ .Paginator.Prev.URL | absURL }}">Â« {{ i18n "prev_page" | default "Prev" }}</a>
    {{- end }}
    {{- if .Paginator.HasNext }}
    <a class="next" href="{{ .Paginator.Next.URL | absURL }}">{{ i18n "next_page" | default "Next" }} Â»</a>
    {{- end }}
  </nav>
</footer>
{{- end }}

{{- end }}